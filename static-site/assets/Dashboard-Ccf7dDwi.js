import{w as M,r as v,x as r,j as s,g as q,y as N,n as x,o as m,p as h,q as y,s as j,D as w}from"./index-C-yBDewJ.js";import{B as n}from"./smalllogo1-Dqd9b7yB.js";import{A as U}from"./AdminLayout-DVxqQUWq.js";import{C as b}from"./calendar-DWCOf2qh.js";import{M as C,E as P}from"./message-square-UIvlSlk3.js";import{U as A}from"./user-plus-CRKIf_sl.js";import"./file-text-DVVDHAI9.js";function c({title:d,value:o,description:l,icon:u,trend:e}){return s.jsxs(x,{children:[s.jsxs(m,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(h,{className:"text-sm font-medium",children:d}),s.jsx("div",{className:"h-8 w-8 rounded-full bg-primary/10 flex items-center justify-center text-primary",children:u})]}),s.jsxs(j,{children:[s.jsx("div",{className:"text-2xl font-bold",children:o}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:l}),e&&s.jsxs("div",{className:"flex items-center gap-1 mt-2",children:[s.jsx("span",{className:e.isPositive?"text-green-500":"text-red-500",children:e.isPositive?s.jsx(w,{className:"h-3 w-3"}):s.jsx(w,{className:"h-3 w-3 transform rotate-180"})}),s.jsxs("span",{className:`text-xs ${e.isPositive?"text-green-500":"text-red-500"}`,children:[e.value,"% ",e.isPositive?"increase":"decrease"]})]})]})]})}function H(){var f,p,g;M();const[d,o]=v.useState(0),{data:l,isLoading:u}=r({queryKey:["/api/admin/faculty"],retry:!1}),{data:e,isLoading:T}=r({queryKey:["/api/admin/flash-news"],retry:!1}),{data:t,isLoading:k}=r({queryKey:["/api/admin/events"],retry:!1}),{data:a,isLoading:K}=r({queryKey:["/api/admin/contact-messages"],retry:!1});v.useEffect(()=>{fetch("/api/visitors/count").then(i=>i.json()).then(i=>o(i.count)).catch(i=>console.error("Error fetching visitor count:",i))},[]);const E=((f=a==null?void 0:a.filter(i=>!i.isRead))==null?void 0:f.length)??0,L=((p=e==null?void 0:e.filter(i=>i.active))==null?void 0:p.length)??0,F=((g=t==null?void 0:t.filter(i=>i.active))==null?void 0:g.length)??0;return s.jsx(U,{children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold mb-1",children:"Dashboard"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"Welcome to the admin portal"}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[s.jsx(c,{title:"Faculty Members",value:(l==null?void 0:l.length)??0,description:"Total faculty profiles",icon:s.jsx(q,{className:"h-4 w-4"})}),s.jsx(c,{title:"Flash News",value:L,description:`Active announcements (${(e==null?void 0:e.length)??0} total)`,icon:s.jsx(N,{className:"h-4 w-4"})}),s.jsx(c,{title:"Events",value:F,description:`Active events (${(t==null?void 0:t.length)??0} total)`,icon:s.jsx(b,{className:"h-4 w-4"})}),s.jsx(c,{title:"Messages",value:E,description:`Unread messages (${(a==null?void 0:a.length)??0} total)`,icon:s.jsx(C,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"grid gap-4 grid-cols-1 lg:grid-cols-3 mt-6",children:[s.jsxs(x,{className:"col-span-1",children:[s.jsxs(m,{children:[s.jsx(h,{children:"Website Stats"}),s.jsx(y,{children:"Current website statistics"})]}),s.jsx(j,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"h-8 w-8 rounded-full bg-blue-100 dark:bg-blue-900 flex items-center justify-center text-blue-500",children:s.jsx(P,{className:"h-4 w-4"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium",children:"Visitor Count"}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Total website visits"})]})]}),s.jsx("div",{className:"text-2xl font-bold",children:d})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"h-8 w-8 rounded-full bg-purple-100 dark:bg-purple-900 flex items-center justify-center text-purple-500",children:s.jsx(A,{className:"h-4 w-4"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium",children:"Admin Users"}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Total admin accounts"})]})]}),s.jsx("div",{className:"text-2xl font-bold",children:"1"})]})]})})]}),s.jsxs(x,{className:"col-span-1 lg:col-span-2",children:[s.jsxs(m,{children:[s.jsx(h,{children:"Quick Actions"}),s.jsx(y,{children:"Common admin tasks"})]}),s.jsx(j,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(n,{className:"flex items-center gap-2",asChild:!0,children:s.jsxs("a",{href:"/admin/faculty/new",children:[s.jsx(A,{className:"h-4 w-4"}),s.jsx("span",{children:"Add Faculty"})]})}),s.jsx(n,{className:"flex items-center gap-2",asChild:!0,children:s.jsxs("a",{href:"/admin/flash-news/new",children:[s.jsx(N,{className:"h-4 w-4"}),s.jsx("span",{children:"Add Flash News"})]})}),s.jsx(n,{className:"flex items-center gap-2",asChild:!0,children:s.jsxs("a",{href:"/admin/events/new",children:[s.jsx(b,{className:"h-4 w-4"}),s.jsx("span",{children:"Add Event"})]})}),s.jsx(n,{className:"flex items-center gap-2",asChild:!0,children:s.jsxs("a",{href:"/admin/messages",children:[s.jsx(C,{className:"h-4 w-4"}),s.jsx("span",{children:"View Messages"})]})})]})})]})]})]})})}export{H as default};
